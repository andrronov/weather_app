(function(){"use strict";var e={6138:function(e,t,n){var i=n(9242),r=n(3396);function a(e,t,n,a,o,s){const c=(0,r.up)("loadingScreen"),l=(0,r.up)("firstCityComponentVue");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.Wm)(i.uT,null,{default:(0,r.w5)((()=>[o.appLoaded?(0,r.kq)("",!0):((0,r.wg)(),(0,r.j4)(c,{key:0,userName:o.userName},null,8,["userName"]))])),_:1}),(0,r.Wm)(l)],64)}var o=n.p+"img/background.e2de9812.jpg",s=n.p+"img/background-night.4ce397b1.jpg";const c={key:0,src:o,alt:"",srcset:""},l={key:1,src:s,alt:"",srcset:""},d={key:4,class:"choose_city"},u=(0,r._)("p",null,"Select city from your list",-1),h=[u],y=["id"],m={class:"currentWeatherWindow _window _wind_backgrounded"},p={class:"duringDayWeather _window _wind_bordered"},w={class:"windWeather _window _wind_bordered"},_={class:"astroWeather _window _wind_bordered"},g={class:"nextWeather _window _bigHeight _wind_backgrounded"};function f(e,t,n,i,a,o){const s=(0,r.up)("welcome-modal-vue"),u=(0,r.up)("all-cities-modal"),f=(0,r.up)("headerComponent"),C=(0,r.up)("currentWeatherComponentVue"),v=(0,r.up)("duringDayWeatherComponentVue"),k=(0,r.up)("windComponent"),D=(0,r.up)("astronomyComponent"),b=(0,r.up)("nextDaysComponent");return(0,r.wg)(),(0,r.iD)(r.HY,null,[a.isDayImg?((0,r.wg)(),(0,r.iD)("img",c)):(0,r.kq)("",!0),a.isDayImg?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("img",l)),a.showModal?((0,r.wg)(),(0,r.j4)(s,{key:2,onDataConfirmed:o.handleDataConfirmed},null,8,["onDataConfirmed"])):(0,r.kq)("",!0),a.allCitiesModalShowed?((0,r.wg)(),(0,r.j4)(u,{key:3,onChangeName:o.changeName,onCityToWeather:o.takeCityData,onCloseAllCitiesModal:t[0]||(t[0]=e=>a.allCitiesModalShowed=!1)},null,8,["onChangeName","onCityToWeather"])):(0,r.kq)("",!0),(0,r.Wm)(f,{onOpenAllCitiesModal:o.openAllCities,onOpenCityModal:o.openCityModal,isDayImg:a.isDayImg,isDay:a.isDay,userName:a.userName},null,8,["onOpenAllCitiesModal","onOpenCityModal","isDayImg","isDay","userName"]),""==a.currentCity?((0,r.wg)(),(0,r.iD)("div",d,h)):(0,r.kq)("",!0),""!==a.currentCity?((0,r.wg)(),(0,r.iD)("div",{key:5,id:a.isDay,class:"weather__windows_grid"},[(0,r._)("div",m,[(0,r.Wm)(C,{currentCityName:a.currentCityName,currentCity:a.currentCity,currentTemperature:a.currentTemperature,feelsLikeTemp:a.feelsLikeTemp,conditionText:a.conditionText,conditionIcon:a.conditionIcon,isDay:a.isDay},null,8,["currentCityName","currentCity","currentTemperature","feelsLikeTemp","conditionText","conditionIcon","isDay"])]),(0,r._)("div",p,[((0,r.wg)(),(0,r.j4)(v,{key:a.currentCity,currentCity:a.currentCity,currentLanguage:a.currentLanguage},null,8,["currentCity","currentLanguage"]))]),(0,r._)("div",w,[(0,r.Wm)(k,{gustSpeed:a.gustSpeed,humidity:a.humidity,currentWindDirection:a.currentWindDirection,currentDownfall:a.currentDownfall,visibilityKm:a.visibilityKm,currentPressure:a.currentPressure,currentWindSpeed:a.currentWindSpeed},null,8,["gustSpeed","humidity","currentWindDirection","currentDownfall","visibilityKm","currentPressure","currentWindSpeed"])]),(0,r._)("div",_,[((0,r.wg)(),(0,r.j4)(D,{key:a.currentCity,currentCity:a.currentCity,currentLanguage:a.currentLanguage},null,8,["currentCity","currentLanguage"]))]),(0,r._)("div",g,[((0,r.wg)(),(0,r.j4)(b,{key:a.currentCity,currentCity:a.currentCity,currentLanguage:a.currentLanguage},null,8,["currentCity","currentLanguage"]))])],8,y)):(0,r.kq)("",!0)],64)}var C=n(7139);const v={class:"city__title"},k={class:"_detailed"},D={class:"city__description"},b={class:"_detailed _font"};function S(e,t,n,i,a,o){return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("div",v,[(0,r._)("h3",null,(0,C.zw)(n.currentCityName),1),(0,r.Uk)(),(0,r._)("p",k,(0,C.zw)(n.currentTemperature)+"째",1)]),(0,r._)("div",D,[(0,r._)("h5",b,(0,C.zw)(n.conditionText),1),(0,r._)("h4",null,"Feels like: "+(0,C.zw)(n.feelsLikeTemp)+"째",1)])],64)}var N={name:"currentWeatherComponent",props:{city:{type:String,default:"Not found"},currentTemperature:{type:Number,default:-999},feelsLikeTemp:{type:Number,default:-999},conditionText:{type:String,default:"Not found"},isDay:{type:String,default:"day",required:!0},conditionIcon:{type:String,default:"116.png",required:!0},currentCityName:{type:String,default:"Not found"}},data(){return{}},methods:{},mounted(){}},M=n(89);const W=(0,M.Z)(N,[["render",S]]);var x=W;const z={class:"duringday__content _container"},T=(0,r._)("h3",{class:"duringday _title _detailed"},"During day",-1),A={class:"duringday__columns"},I={class:"duringday_column"},L={class:"column_p"},j={class:"duringday_text"};function $(e,t,n,i,a,o){return(0,r.wg)(),(0,r.iD)("div",z,[T,(0,r._)("div",A,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.timeWeatherArray,((e,t)=>((0,r.wg)(),(0,r.iD)("div",{key:t,class:"columns__content"},[(0,r._)("div",I,[(0,r._)("div",{style:(0,C.j5)(`height: ${a.heightArray[t].heightCol}%`),class:"column_fill"},null,4)]),(0,r._)("p",L,(0,C.zw)(e.weatherData)+"째",1),(0,r._)("p",j,(0,C.zw)(e.timeData),1)])))),128))])])}n(7658);async function q(e,t,n){const i=await fetch(`https://api.weatherapi.com/v1/forecast.json?key=${e}&q=id:${t}&lang=${n}`);if(!i.ok)throw new Error("Failed to fetch weather data");const r=await i.json(),a=r.forecast.forecastday[0],o={};return a.hour.forEach(((e,t)=>{o[`timeWeather${t+1}`]=e})),o}var E={data(){return{timeWeatherArray:[],heihtGraph:[],heightArray:[]}},props:{currentCity:{type:Number},currentLanguage:{type:String,default:"us"}},methods:{async fetchDuringDayData(){try{const e="7aecaa5e837b4dd09c3155109232609",t=this.currentCity,n=this.currentLanguage,i=await q(e,t,n);for(const r in i){const e=i[r].time.slice(10),t=i[r].temp_c;this.timeWeatherArray.push({timeData:e,weatherData:t}),this.heihtGraph.push(t)}this.normalizeBar()}catch(e){console.error(e)}},normalizeBar(){const e=Math.max(...this.heihtGraph),t=Math.min(...this.heihtGraph);this.heihtGraph.forEach((n=>{let i=5+95*(n-t)/(e-t);this.heightArray.push({heightCol:i})}))}},mounted(){setTimeout((()=>{this.fetchDuringDayData()}),100)},watch:{currentCity(){console.log("city changed",this.currentCity),this.fetchDuringDayData(),this.normalizeBar()}}};const O=(0,M.Z)(E,[["render",$]]);var U=O;const K={class:"astro__content _container"},Z=(0,r._)("h3",{class:"astronomy _title _detailed"},"Astronomic info",-1),H={class:"astro _list"},P=(0,r._)("p",null,"Sunrise:",-1),V=(0,r._)("p",null,"Sunset:",-1),F=(0,r._)("p",null,"Moonrise:",-1),Y=(0,r._)("p",null,"Moon phase:",-1);function G(e,t,n,i,a,o){return(0,r.wg)(),(0,r.iD)("div",K,[Z,(0,r._)("ul",H,[(0,r._)("li",null,[P,(0,r.Uk)(),(0,r._)("p",null,(0,C.zw)(a.sunrise),1)]),(0,r._)("li",null,[V,(0,r.Uk)(),(0,r._)("p",null,(0,C.zw)(a.sunset),1)]),(0,r._)("li",null,[F,(0,r.Uk)(),(0,r._)("p",null,(0,C.zw)(a.moonrise),1)]),(0,r._)("li",null,[Y,(0,r.Uk)(" "+(0,C.zw)(a.moon_phase),1)])])])}async function J(e,t,n){const i=await fetch(`https://api.weatherapi.com/v1/astronomy.json?key=${e}&q=id:${t}&lang=${n}`);if(!i.ok)throw new Error("Failed to fetch weather data");const r=await i.json(),a=r.astronomy.astro;return{sunrise:a.sunrise,sunset:a.sunset,moonrise:a.moonrise,moon_phase:a.moon_phase}}var B={data(){return{sunrise:"",sunset:"",moonrise:"",moon_phase:""}},props:{currentLanguage:{type:String,default:"ru"},currentCity:{type:Number}},methods:{async fetchAstro(){try{const e="7aecaa5e837b4dd09c3155109232609",t=this.currentCity,n=this.currentLanguage,i=await J(e,t,n);this.sunrise=i.sunrise,this.sunset=i.sunset,this.moonrise=i.moonrise,this.moon_phase=i.moon_phase}catch(e){console.error(e)}}},mounted(){setTimeout((()=>{this.fetchAstro()}),10)}};const R=(0,M.Z)(B,[["render",G]]);var Q=R;const X={class:"duringweek__content _container"},ee=(0,r._)("h3",{class:"duringweek _title _detailed"},"Next 3 days",-1),te={class:"duringweek__rows"},ne={class:"row_title"},ie={class:"row_columns"},re={class:"row_info"},ae={class:"_detailed _font"},oe={class:"row_info"},se={style:{"text-decoration":"underline"}};function ce(e,t,n,i,a,o){return(0,r.wg)(),(0,r.iD)("div",X,[ee,(0,r._)("div",te,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.dataArray,(e=>((0,r.wg)(),(0,r.iD)("div",{key:e.index,class:"rows__content"},[(0,r._)("h5",ne,(0,C.zw)(e.date),1),(0,r._)("div",ie,[(0,r._)("li",re,[(0,r._)("span",ae,(0,C.zw)(e.avgTemp)+"째",1),(0,r.Uk)(" "+(0,C.zw)(e.conditionDay),1)]),(0,r._)("li",oe,[(0,r._)("p",null,"Wind: "+(0,C.zw)(e.windDay)+" km/h",1),(0,r.Uk)(),(0,r._)("p",se,"Precipitation "+(0,C.zw)(e.precipDay)+" mm",1)])])])))),128))])])}async function le(e,t,n){const i=await fetch(`https://api.weatherapi.com/v1/forecast.json?key=${e}&q=id:${t}&days=7&lang=${n}`);if(!i.ok)throw new Error("Failed to fetch weather data");const r=await i.json(),a=r.forecast,o={};return a.forecastday.forEach(((e,t)=>{o[`dayWeather${t+1}`]=e})),o}var de={data(){return{dataArray:[]}},props:{currentCity:{type:Number},currentLanguage:{type:String,default:"us"}},methods:{async fetchWeek(){try{const e="7aecaa5e837b4dd09c3155109232609",t=this.currentCity,n=this.currentLanguage,i=await le(e,t,n);for(const r in i){const e=i[r].day,t=i[r].date.slice(5),n=e.avgtemp_c,a=e.condition.text,o=e.maxwind_kph,s=e.totalprecip_mm;this.dataArray.push({mainData:e,date:t,avgTemp:n,conditionDay:a,windDay:o,precipDay:s})}}catch(e){console.error(e)}}},mounted(){setTimeout((()=>{this.fetchWeek()}),100)}};const ue=(0,M.Z)(de,[["render",ce]]);var he=ue;const ye={class:"wind__content _container"},me=(0,r._)("h3",{class:"wind _title _detailed"},"Main info:",-1),pe={class:"wind__content _list"},we=(0,r._)("p",null,"Wind speed:",-1),_e=(0,r._)("p",null,"Gust speed:",-1),ge=(0,r._)("p",null,"Air humidity:",-1),fe=(0,r._)("p",null,"Wind direction:",-1),Ce=(0,r._)("p",null,"Downfall:",-1),ve=(0,r._)("p",null,"Visibility:",-1);function ke(e,t,n,i,a,o){return(0,r.wg)(),(0,r.iD)("div",ye,[me,(0,r._)("ul",pe,[(0,r._)("li",null,[we,(0,r.Uk)(),(0,r._)("p",null,(0,C.zw)(n.gustSpeed)+"Km/h ("+(0,C.zw)(a.gustSpeedMeters)+"m/s)",1)]),(0,r._)("li",null,[_e,(0,r.Uk)(),(0,r._)("p",null,(0,C.zw)(n.currentWindSpeed)+"Km/h ("+(0,C.zw)(a.windSpeedMeters)+"m/s)",1)]),(0,r._)("li",null,[ge,(0,r.Uk)(),(0,r._)("p",null,(0,C.zw)(n.humidity)+"%",1)]),(0,r._)("li",null,[fe,(0,r.Uk)(),(0,r._)("p",null,(0,C.zw)(n.currentWindDirection),1)]),(0,r._)("li",null,[Ce,(0,r.Uk)(),(0,r._)("p",null,(0,C.zw)(n.currentDownfall)+"mm",1)]),(0,r._)("li",null,[ve,(0,r.Uk)(),(0,r._)("p",null,(0,C.zw)(n.visibilityKm)+" km",1)])])])}var De={data(){return{gustSpeedMeters:-999,windSpeedMeters:-999}},props:{gustSpeed:{type:Number,default:-999},humidity:{type:Number,default:-999},currentWindDirection:{type:String,default:"err"},currentDownfall:{type:Number,default:-999},visibilityKm:{type:Number,default:-999},currentPressure:{type:Number,default:-999},currentWindSpeed:{type:Number,default:-999}},updated(){const e=(1e3*this.gustSpeed/3600).toFixed(2),t=(1e3*this.currentWindSpeed/3600).toFixed(2);this.gustSpeedMeters=e,this.windSpeedMeters=t}};const be=(0,M.Z)(De,[["render",ke]]);var Se=be;async function Ne(e,t,n){const i=await fetch(`https://api.weatherapi.com/v1/current.json?key=${e}&q=id:${t}&lang=${n}`);if(!i.ok)throw new Error("Failed to fetch weather data");const r=await i.json();return{currentCityName:r.location.name,currentTemp:r.current.temp_c,feelsLike:r.current.feelslike_c,tempText:r.current.condition.text,gustSpeed:r.current.gust_kph,currentHumidity:r.current.humidity,isDay:r.current.is_day,currentDownfall:r.current.precip_mm,currentPressure:r.current.pressure_mb,currentWindDirection:r.current.wind_dir,currentWindSpeed:r.current.wind_kph,conditionIcon:r.current.condition.icon,visibilityKm:r.current.vis_km}}const Me=e=>((0,r.dD)("data-v-dc36d958"),e=e(),(0,r.Cn)(),e),We={class:"modalWrap"},xe={class:"wrapper"},ze={class:"wrapper_content"},Te=Me((()=>(0,r._)("h1",{class:"wrapper_hello content_title"},"Hello!",-1))),Ae=Me((()=>(0,r._)("p",{class:"wrapper_name _smaller"},"Write your name:",-1))),Ie=Me((()=>(0,r._)("span",{class:"autor"},"andrronov, 10.29.23",-1)));function Le(e,t,n,a,o,s){return(0,r.wg)(),(0,r.iD)("div",We,[(0,r._)("div",xe,[(0,r._)("div",ze,[Te,Ae,(0,r.wy)((0,r._)("input",{onKeydown:t[0]||(t[0]=(0,i.D2)(((...e)=>s.confirm&&s.confirm(...e)),["enter"])),class:"wrapper_input","onUpdate:modelValue":t[1]||(t[1]=e=>o.userName=e),type:"text"},null,544),[[i.nr,o.userName]]),(0,r._)("button",{class:"wrapper_button _confirm",onClick:t[2]||(t[2]=(...e)=>s.confirm&&s.confirm(...e))},"Confirm")]),Ie])])}var je={name:"welcomeModalVue",data(){return{userName:"",showModal:!0}},methods:{confirm(){this.$emit("dataConfirmed",{userName:this.userName,showModal:!1,showNewCity:!0})}}};const $e=(0,M.Z)(je,[["render",Le],["__scopeId","data-v-dc36d958"]]);var qe=$e;const Ee=["id"],Oe={class:"header_container"},Ue={class:"header"},Ke={class:"header_name"},Ze={class:"marked"},He={class:"header__addcity"};function Pe(e,t,n,i,a,o){return(0,r.wg)(),(0,r.iD)("header",{id:n.isDay},[(0,r._)("div",Oe,[(0,r._)("div",Ue,[(0,r._)("div",Ke,[(0,r._)("p",null,[(0,r.Uk)("Hello, "),(0,r._)("span",Ze,(0,C.zw)(n.userName),1),(0,r.Uk)("!")])]),(0,r._)("div",He,[(0,r._)("button",{onClick:t[0]||(t[0]=(...e)=>o.openAllCitiesModal&&o.openAllCitiesModal(...e)),class:"header__button"},"My cities")])])])],8,Ee)}var Ve={props:{userName:{type:String,default:"Not found"},city:{type:String,deafult:"Not found"},isDay:{type:String,default:"day"},isDayImg:{},cities:{type:Array}},data(){return{modalShowed:!1,allCitiesModalShowed:!1}},methods:{openNewCityModal(){this.modalShowed=!0,this.$emit("openCityModal",{modalShowed:this.modalShowed})},openAllCitiesModal(){this.allCitiesModalShowed=!0,this.$emit("openAllCitiesModal",{allCitiesModalShowed:this.allCitiesModalShowed})}}};const Fe=(0,M.Z)(Ve,[["render",Pe],["__scopeId","data-v-14bda7c6"]]);var Ye=Fe;const Ge=e=>((0,r.dD)("data-v-4713b869"),e=e(),(0,r.Cn)(),e),Je={class:"modalWrap"},Be={class:"wrapper"},Re={key:0,class:"form__content"},Qe=Ge((()=>(0,r._)("p",{class:"content_title"},"Choose a city:",-1))),Xe={class:"content_cities"},et={key:0,class:"city"},tt=["onClick"],nt=["onClick"],it=(0,r.uE)('<g fill="#34597e" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode:normal;" data-v-4713b869><path d="M0,256v-256h256v256z" id="bgRectangle" data-v-4713b869></path></g><g fill="#ffffff" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode:normal;" data-v-4713b869><g transform="scale(10.66667,10.66667)" data-v-4713b869><path d="M10,2l-1,1h-5v2h1v15c0,0.52222 0.19133,1.05461 0.56836,1.43164c0.37703,0.37703 0.90942,0.56836 1.43164,0.56836h10c0.52222,0 1.05461,-0.19133 1.43164,-0.56836c0.37703,-0.37703 0.56836,-0.90942 0.56836,-1.43164v-15h1v-2h-5l-1,-1zM7,5h10v15h-10zM9,7v11h2v-11zM13,7v11h2v-11z" data-v-4713b869></path></g></g>',2),rt=[it],at={class:"form__content_buttons"},ot=(0,r.uE)('<title data-v-4713b869></title><g data-name="1" id="_1" data-v-4713b869><path d="M403.67,187.94a68,68,0,0,1-9.16-.63c-17.89-2.4-35.5-11.48-49.57-25.55h0c-14.07-14.08-23.15-31.68-25.56-49.58-2.57-19.12,2.93-37.07,15.11-49.25s30.13-17.69,49.25-15.11c17.9,2.41,35.51,11.48,49.58,25.56s23.15,31.68,25.56,49.57c2.57,19.13-2.94,37.08-15.11,49.26C433.56,182.41,419.29,187.94,403.67,187.94Zm-37.52-47.4c9.31,9.32,21.11,15.53,32.37,17,9.91,1.34,18.45-1,24-6.59s7.93-14.12,6.59-24c-1.51-11.26-7.72-23.06-17-32.37C394,76.47,368.16,71.69,355.7,84.14s-7.67,38.29,10.45,56.4Z" data-v-4713b869></path><path d="M189.36,402.24a68,68,0,0,1-9.15-.62c-17.9-2.41-35.51-11.48-49.58-25.56s-23.15-31.68-25.56-49.57c-2.57-19.13,2.94-37.08,15.11-49.26a15,15,0,0,1,21.22,21.22c-5.59,5.58-7.93,14.12-6.6,24,1.52,11.26,7.73,23.06,17,32.37C170,373,195.79,377.75,208.25,365.3a15,15,0,1,1,21.21,21.21C219.25,396.72,205,402.24,189.36,402.24Z" data-v-4713b869></path><path d="M71.69,450a15,15,0,0,1-14.64-18.25c.26-1.17,6.46-29,15.07-59.7,16.16-57.6,25.91-72.67,32.6-79.36L334.49,62.93A15,15,0,1,1,355.7,84.14L125.94,313.91c-.91.9-9.27,10.43-24.94,66.25-3.51,12.51-6.65,24.69-9.1,34.64,10-2.47,22.21-5.61,34.75-9.14,55.72-15.64,65.24-24,66.14-24.9L422.55,151a15,15,0,0,1,21.22,21.21L214,402c-6.69,6.69-21.75,16.44-79.36,32.61-30.65,8.6-58.53,14.8-59.7,15.06A15,15,0,0,1,71.69,450Z" data-v-4713b869></path><path d="M391.63,135.07a15,15,0,0,1-10.61-4.4l-5-5a15,15,0,0,1,21.21-21.21l5,5a15,15,0,0,1-10.6,25.61Z" data-v-4713b869></path></g>',2),st=[ot],ct={key:1,for:"newCity",class:"form__content"},lt=Ge((()=>(0,r._)("p",{class:"content_title"},"Write city:",-1))),dt={class:"search_element"},ut={key:0,class:"search_error"},ht={key:1,class:"search_error"},yt={key:2,class:"search_results"},mt=["onClick"],pt={class:"form__content_buttons"};function wt(e,t,n,a,o,s){return(0,r.wg)(),(0,r.iD)("div",Je,[(0,r._)("div",Be,[o.showNewCityWindow?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("div",Re,[Qe,(0,r._)("ul",Xe,[o.cities.length?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("li",et,"None")),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(o.cities,((e,t)=>((0,r.wg)(),(0,r.iD)("li",{class:"city",key:t,onClick:t=>s.cityToWeather(e.newCityId)},[(0,r.Uk)((0,C.zw)(e.newCityName)+", "+(0,C.zw)(e.newCityCountry)+" ",1),((0,r.wg)(),(0,r.iD)("svg",{onClick:(0,i.iM)((t=>s.handleDeleteCity(e)),["stop"]),xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"28",height:"28",viewBox:"0,0,256,256"},rt,8,nt))],8,tt)))),128))]),(0,r._)("div",at,[(0,r._)("button",{onClick:t[0]||(t[0]=e=>o.showNewCityWindow=!o.showNewCityWindow),class:"form__button _confirm"},"Add new city"),((0,r.wg)(),(0,r.iD)("svg",{onClick:t[1]||(t[1]=(...e)=>s.changeName&&s.changeName(...e)),class:"form__button",viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg"},st)),o.cities.length?((0,r.wg)(),(0,r.iD)("button",{key:0,onClick:t[2]||(t[2]=(...e)=>s.close&&s.close(...e)),class:"form__button"},"Close")):(0,r.kq)("",!0)])])),o.showNewCityWindow?((0,r.wg)(),(0,r.iD)("label",ct,[lt,(0,r._)("div",dt,[(0,r.wy)((0,r._)("input",{id:"newCity",onKeydown:t[3]||(t[3]=(0,i.D2)(((...e)=>s.handleAddCity&&s.handleAddCity(...e)),["enter"])),"onUpdate:modelValue":t[4]||(t[4]=e=>o.userCity=e),type:"text"},null,544),[[i.nr,o.userCity]]),o.searchError?((0,r.wg)(),(0,r.iD)("p",ut,"Error! This city doesn't exist.")):(0,r.kq)("",!0),o.addError?((0,r.wg)(),(0,r.iD)("p",ht,"Error! This city has already added.")):(0,r.kq)("",!0),o.userCity.length>2?((0,r.wg)(),(0,r.iD)("div",yt,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(o.allCitiesArray,((e,t)=>((0,r.wg)(),(0,r.iD)("div",{class:"results_container",key:t},[(0,r._)("p",{onClick:t=>s.addCity(e),class:"container_cities"},(0,C.zw)(e.searchCity)+", "+(0,C.zw)(e.searchRegion)+", "+(0,C.zw)(e.searchCountry),9,mt)])))),128))])):(0,r.kq)("",!0)]),(0,r._)("div",pt,[(0,r._)("button",{class:"form__button _confirm",onClick:t[5]||(t[5]=(...e)=>s.handleAddCity&&s.handleAddCity(...e))},"Confirm"),(0,r._)("button",{class:"form__button",onClick:t[6]||(t[6]=e=>o.showNewCityWindow=!1)},"Close")])])):(0,r.kq)("",!0)])])}async function _t(e,t,n){const i=await fetch(`https://api.weatherapi.com/v1/search.json?key=${e}&q=${t}&lang=${n}`);if(!i.ok)throw new Error("Failed to fetch weather data");const r=await i.json();return console.log(r),{data:r}}var gt={name:"allCitiesModal",data(){return{userCity:"",showNewCityWindow:!1,allCitiesArray:[],cities:[],searchError:!1,addError:!1,currentCity:""}},methods:{close(){this.$emit("closeAllCitiesModal",{showAllCitiesModal:!1})},async autocompleteSearch(){try{const e="7aecaa5e837b4dd09c3155109232609",t=this.userCity,n="us",i=await _t(e,t,n),r=i.data;this.allCitiesArray=[];for(let a in r){const e=r[a].name,t=r[a].region,n=r[a].country,i=r[a].id;this.allCitiesArray.push({searchCity:e,searchRegion:t,searchCountry:n,searchID:i})}}catch(e){console.error(e)}},addCity(e){let t=!1;for(let n=0;n<this.cities.length;n++)if(e.searchID==this.cities[n].newCityId){t=!0;break}t?(this.addError=!0,this.userCity="",this.allCitiesArray=[]):(this.cities.push({newCityName:e.searchCity,newCityCountry:e.searchCountry,newCityId:e.searchID}),this.showNewCityWindow=!1,this.userCity="")},async handleAddCity(){try{const e="7aecaa5e837b4dd09c3155109232609",t=this.userCity,n="us",i=await _t(e,t,n),r=i.data[0];let a=!1;for(let o=0;o<this.cities.length;o++)if(r.id==this.cities[o].newCityId){a=!0,console.log(a);break}void 0===r?this.searchError=!0:a?this.addError=!0:(this.cities.push({newCityName:r.name,newCityCountry:r.country,newCityId:r.id}),this.showNewCityWindow=!1)}catch(e){console.error(e)}this.userCity=""},handleDeleteCity(e){this.cities=this.cities.filter((t=>t!=e))},cityToWeather(e){this.$emit("cityToWeather",e)},changeName(){this.$emit("changeName")}},watch:{userCity(){this.userCity.length>2&&(console.log("autocomplete"),this.autocompleteSearch(),this.searchError=!1,this.addError=!1)},cities:{handler:function(){localStorage.setItem("citiesData",JSON.stringify(this.cities)),console.log("local updated")},deep:!0}},created(){const e=localStorage.getItem("citiesData");e&&(this.cities=JSON.parse(e))}};const ft=(0,M.Z)(gt,[["render",wt],["__scopeId","data-v-4713b869"]]);var Ct=ft,vt={name:"firstCityComponent",components:{currentWeatherComponentVue:x,duringDayWeatherComponentVue:U,windComponent:Se,astronomyComponent:Q,nextDaysComponent:he,welcomeModalVue:qe,headerComponent:Ye,allCitiesModal:Ct},data(){return{showModal:!0,allCitiesModalShowed:!1,currentCity:"",currentCityName:"",userName:"",currentLanguage:"us",currentTemperature:null,feelsLikeTemp:null,conditionText:"",gustSpeed:null,humidity:null,isDay:"",isDayImg:!1,currentDownfall:null,currentPressure:null,currentWindDirection:"",conditionIcon:"",visibilityKm:0,currentWindSpeed:0}},methods:{async fetchData(){try{const e="7aecaa5e837b4dd09c3155109232609",t=this.currentCity,n=this.currentLanguage,i=await Ne(e,t,n);this.currentCityName=i.currentCityName,this.currentTemperature=i.currentTemp,this.feelsLikeTemp=i.feelsLike,this.conditionText=i.tempText,this.gustSpeed=i.gustSpeed,this.humidity=i.currentHumidity,this.isDay=i.isDay,this.isDayImg=this.isDay,this.conditionIcon=i.conditionIcon.substring(i.conditionIcon.length-7),this.isDay?this.isDay="day":this.isDay="night",this.currentDownfall=i.currentDownfall,this.currentPressure=i.currentPressure,this.currentWindDirection=i.currentWindDirection,this.visibilityKm=i.visibilityKm,this.currentWindSpeed=i.currentWindSpeed}catch(e){console.error(e)}},handleDataConfirmed(e){this.userName=e.userName,this.allCitiesModalShowed=!0,this.showModal=e.showModal,localStorage.setItem("showModal",JSON.stringify(this.showModal)),localStorage.username=this.userName},openCityModal(e){this.modalShowed=e.modalShowed},openAllCities(e){this.allCitiesModalShowed=e.allCitiesModalShowed},takeCityData(e){console.log("xxxxxxxxxx",e),this.currentCity=e,this.allCitiesModalShowed=!1,this.fetchData(),localStorage.currentCity=this.currentCity},changeName(){this.allCitiesModalShowed=!1,this.showModal=!0}},mounted(){localStorage.username&&(this.userName=localStorage.username),localStorage.currentCity&&(this.currentCity=localStorage.currentCity),this.fetchData()},created(){const e=localStorage.getItem("showModal");e&&(this.showModal=JSON.parse(e))}};const kt=(0,M.Z)(vt,[["render",f]]);var Dt=kt;const bt=e=>((0,r.dD)("data-v-b6e19552"),e=e(),(0,r.Cn)(),e),St={class:"loading-screen"},Nt={key:0},Mt=bt((()=>(0,r._)("div",{class:"spinner"},null,-1)));function Wt(e,t,n,i,a,o){return(0,r.wg)(),(0,r.iD)("div",St,[n.userName?((0,r.wg)(),(0,r.iD)("h1",Nt,"Welcome, "+(0,C.zw)(n.userName)+"!",1)):(0,r.kq)("",!0),Mt])}var xt={name:"loadingScreen",props:{userName:{type:String,default:"Not found"}}};const zt=(0,M.Z)(xt,[["render",Wt],["__scopeId","data-v-b6e19552"]]);var Tt=zt,At={name:"App",data(){return{appLoaded:!1,showModal:!0,userName:""}},components:{firstCityComponentVue:Dt,loadingScreen:Tt},methods:{handleDataConfirmed(e){this.userName=e.userName,this.showModal=e.showModal,localStorage.setItem("showModal",JSON.stringify(this.showModal)),localStorage.username=this.userName}},mounted(){localStorage.username&&(this.userName=localStorage.username),setTimeout((()=>{this.appLoaded=!0}),350)},created(){const e=localStorage.getItem("showModal");e&&(this.showModal=JSON.parse(e))}};const It=(0,M.Z)(At,[["render",a]]);var Lt=It;(0,i.ri)(Lt).mount("#app")}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var a=t[i]={exports:{}};return e[i].call(a.exports,a,a.exports,n),a.exports}n.m=e,function(){var e=[];n.O=function(t,i,r,a){if(!i){var o=1/0;for(d=0;d<e.length;d++){i=e[d][0],r=e[d][1],a=e[d][2];for(var s=!0,c=0;c<i.length;c++)(!1&a||o>=a)&&Object.keys(n.O).every((function(e){return n.O[e](i[c])}))?i.splice(c--,1):(s=!1,a<o&&(o=a));if(s){e.splice(d--,1);var l=r();void 0!==l&&(t=l)}}return t}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[i,r,a]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.p="/"}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,i){var r,a,o=i[0],s=i[1],c=i[2],l=0;if(o.some((function(t){return 0!==e[t]}))){for(r in s)n.o(s,r)&&(n.m[r]=s[r]);if(c)var d=c(n)}for(t&&t(i);l<o.length;l++)a=o[l],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(d)},i=self["webpackChunkweather_app"]=self["webpackChunkweather_app"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=n.O(void 0,[998],(function(){return n(6138)}));i=n.O(i)})();
//# sourceMappingURL=app.03793136.js.map